program music;

{*
    https://github.com/ShaneMcC/beeps/blob/master/mario.sh
*}

uses crt, neo6502;

const
    SCORE_SIZE = 1107;

    freq : array[0..SCORE_SIZE] of word = (
        146,369,659,146,369,659,146,369,659,146,369,523,146,369,659,391,493,783,195,391,195,391,195,329,523,164,261,391,130,195,329,174,261,440,195,293,493,184,277,466,174,261,440,164,261,391,261,391,659,329,493,783,349,523,880,293,440,698,329,493,783,261,440,659,220,329,523,246,349,587,195,293,493,195,329,523,164,261,391,130,195,329,174,261,440,195,293,493,184,277,466,174,261,440,164,261,391,261,391,659,329,493,783,349,523,880,293,440,698,329,493,783,261,440,659,220,329,523,246,349,587,195,293,493,130,659,783,659,783,195,622,739,587,698,587,698,493,622,493,622,261,523,659,523,659,174,329,415,329,415,349,440,349,440,261,391,523,261,261,440,261,440,174,329,523,349,587,349,587,130,659,783,659,783,164,622,739,587,698,587,698,493,622,493,622,195,261,523,659,698,783,1046,698,783,1046,698,783,1046,195,130,659,783,659,783,195,622,739,587,698,587,698,493,622,493,622,261,523,659,523,659,174,329,415,329,415,349,440,349,440,261,391,523,261,261,440,261,440,174,329,523,349,587,349,587,130,207,415,622,233,349,587,261,329,523,195,195,130,130,659,783,659,783,195,622,739,587,698,587,698,493,622,493,622,261,523,659,523,659,174,329,415,329,415,349,440,349,440,261,391,523,261,261,440,261,440,174,329,523,349,587,349,587,130,659,783,659,783,164,622,739,587,698,587,698,493,622,493,622,195,261,523,659,698,783,1046,698,783,1046,698,783,1046,195,130,659,783,659,783,195,622,739,587,698,587,698,493,622,493,622,261,523,659,523,659,174,329,415,329,415,349,440,349,440,261,391,523,261,261,440,261,440,174,329,523,349,587,349,587,130,207,415,622,233,349,587,261,329,523,195,195,130,103,415,523,415,523,415,523,155,415,523,415,523,415,523,207,466,587,195,391,659,329,523,329,523,130,329,440,261,391,261,391,97,103,415,523,415,523,415,523,155,415,523,415,523,415,523,207,466,587,391,659,391,659,195,130,97,103,415,523,415,523,415,523,155,415,523,415,523,415,523,207,466,587,195,391,659,329,523,329,523,130,329,440,261,391,261,391,97,146,369,659,146,369,659,146,369,659,146,369,523,146,369,659,391,493,783,195,391,195,391,195,329,523,164,261,391,130,195,329,174,261,440,195,293,493,184,277,466,174,261,440,164,261,391,261,391,659,329,493,783,349,523,880,293,440,698,329,493,783,261,440,659,220,329,523,246,349,587,195,293,493,195,329,523,164,261,391,130,195,329,174,261,440,195,293,493,184,277,466,174,261,440,164,261,391,261,391,659,329,493,783,349,523,880,293,440,698,329,493,783,261,440,659,220,329,523,246,349,587,195,293,493,130,523,659,440,523,440,523,184,329,391,195,261,329,415,174,349,440,523,698,523,698,174,523,698,523,698,261,349,440,261,174,146,391,493,698,880,698,880,698,880,174,698,880,174,195,698,880,659,783,659,783,246,587,698,587,698,195,523,659,440,523,440,523,195,349,440,349,440,261,329,391,261,195,130,523,659,440,523,440,523,184,329,391,195,261,329,415,174,349,440,523,698,523,698,174,523,698,523,698,261,349,440,261,174,195,391,493,195,587,698,195,587,698,195,587,698,220,523,659,246,493,587,261,391,523,329,195,329,130,261,130,261,130,523,659,440,523,440,523,184,329,391,195,261,329,415,174,349,440,523,698,523,698,174,523,698,523,698,261,349,440,261,174,146,391,493,698,880,698,880,698,880,174,698,880,174,195,698,880,659,783,659,783,246,587,698,587,698,195,523,659,440,523,440,523,195,349,440,349,440,261,329,391,261,195,130,523,659,440,523,440,523,184,329,391,195,261,329,415,174,349,440,523,698,523,698,174,523,698,523,698,261,349,440,261,174,195,391,493,195,587,698,195,587,698,195,587,698,220,523,659,246,493,587,261,391,523,329,195,329,130,261,130,261,103,415,523,415,523,415,523,155,415,523,415,523,415,523,207,466,587,195,391,659,329,523,329,523,130,329,440,261,391,261,391,97,103,415,523,415,523,415,523,155,415,523,415,523,415,523,207,466,587,391,659,391,659,195,130,97,103,415,523,415,523,415,523,155,415,523,415,523,415,523,207,466,587,195,391,659,329,523,329,523,130,329,440,261,391,261,391,97,146,369,659,146,369,659,146,369,659,146,369,523,146,369,659,391,493,783,195,391,195,391,130,523,659,440,523,440,523,184,329,391,195,261,329,415,174,349,440,523,698,523,698,174,523,698,523,698,261,349,440,261,174,146,391,493,698,880,698,880,698,880,174,698,880,174,195,698,880,659,783,659,783,246,587,698,587,698,195,523,659,440,523,440,523,195,349,440,349,440,261,329,391,261,195,130,523,659,440,523,440,523,184,329,391,195,261,329,415,174,349,440,523,698,523,698,174,523,698,523,698,261,349,440,261,174,195,391,493,195,587,698,195,587,698,195,587,698,220,523,659,246,493,587,261,391,523,329,195,329,130,261,130,261
    );
    leng : array[0..SCORE_SIZE] of word = (
        20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,95,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,94,95,95,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,95,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,94,95,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,95,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,15,15,15,47,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,95,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,15,15,15,47,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,95,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,95,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,15,15,15,47,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,20,20,20,95,20,20,20,20,20,20,20,94,95,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,95,95,95,20,20,20,20
    );
    dele : array[0..SCORE_SIZE] of word = (
        0,0,47,0,0,189,0,0,190,0,0,47,0,0,190,0,0,475,0,0,0,473,0,0,332,0,0,332,0,0,332,0,0,189,0,0,189,0,0,47,0,0,190,0,0,95,0,0,95,0,0,95,0,0,190,0,0,47,0,0,189,0,0,189,0,0,47,0,0,47,0,0,332,0,0,332,0,0,332,0,0,332,0,0,189,0,0,189,0,0,47,0,0,190,0,0,95,0,0,95,0,0,95,0,0,190,0,0,47,0,0,189,0,0,189,0,0,47,0,0,47,0,0,332,190,0,0,0,47,0,0,47,0,0,0,47,0,0,0,47,47,0,0,0,47,47,0,0,0,47,0,0,0,47,0,0,47,47,0,0,0,47,0,0,47,0,0,0,47,190,0,0,0,47,0,0,47,0,0,0,47,0,0,0,47,47,0,0,189,0,0,189,0,0,47,0,0,190,190,190,0,0,0,47,0,0,47,0,0,0,47,0,0,0,47,47,0,0,0,47,47,0,0,0,47,0,0,0,47,0,0,47,47,0,0,0,47,0,0,47,0,0,0,47,190,0,0,332,0,0,332,0,0,332,47,190,190,190,0,0,0,47,0,0,47,0,0,0,47,0,0,0,47,47,0,0,0,47,47,0,0,0,47,0,0,0,47,0,0,47,47,0,0,0,47,0,0,47,0,0,0,47,190,0,0,0,47,0,0,47,0,0,0,47,0,0,0,47,47,0,0,189,0,0,189,0,0,47,0,0,190,190,190,0,0,0,47,0,0,47,0,0,0,47,0,0,0,47,47,0,0,0,47,47,0,0,0,47,0,0,0,47,0,0,47,47,0,0,0,47,0,0,47,0,0,0,47,190,0,0,332,0,0,332,0,0,332,47,190,190,0,0,47,0,0,0,189,0,0,190,0,0,0,47,0,0,190,0,0,47,0,0,0,190,0,0,47,0,0,0,189,189,0,0,47,0,0,0,189,0,0,190,0,0,0,47,0,0,47,0,0,0,47,333,332,189,0,0,47,0,0,0,189,0,0,190,0,0,0,47,0,0,190,0,0,47,0,0,0,190,0,0,47,0,0,0,189,189,0,0,47,0,0,189,0,0,190,0,0,47,0,0,190,0,0,475,0,0,0,473,0,0,332,0,0,332,0,0,332,0,0,189,0,0,189,0,0,47,0,0,190,0,0,95,0,0,95,0,0,95,0,0,190,0,0,47,0,0,189,0,0,189,0,0,47,0,0,47,0,0,332,0,0,332,0,0,332,0,0,332,0,0,189,0,0,189,0,0,47,0,0,190,0,0,95,0,0,95,0,0,95,0,0,190,0,0,47,0,0,189,0,0,189,0,0,47,0,0,47,0,0,332,0,0,47,0,0,0,190,0,0,47,190,0,0,190,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,95,0,0,0,95,0,0,0,0,0,47,0,0,95,0,0,0,0,0,0,0,0,95,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,47,0,0,0,190,0,0,47,190,0,0,190,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,47,0,0,190,0,0,47,0,0,95,0,0,95,0,0,95,0,0,47,47,47,47,0,0,0,475,0,0,47,0,0,0,190,0,0,47,190,0,0,190,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,95,0,0,0,95,0,0,0,0,0,47,0,0,95,0,0,0,0,0,0,0,0,95,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,47,0,0,0,190,0,0,47,190,0,0,190,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,47,0,0,190,0,0,47,0,0,95,0,0,95,0,0,95,0,0,47,47,47,47,0,0,0,475,0,0,47,0,0,0,189,0,0,190,0,0,0,47,0,0,190,0,0,47,0,0,0,190,0,0,47,0,0,0,189,189,0,0,47,0,0,0,189,0,0,190,0,0,0,47,0,0,47,0,0,0,47,333,332,189,0,0,47,0,0,0,189,0,0,190,0,0,0,47,0,0,190,0,0,47,0,0,0,190,0,0,47,0,0,0,189,189,0,0,47,0,0,189,0,0,190,0,0,47,0,0,190,0,0,475,0,0,0,473,0,0,47,0,0,0,190,0,0,47,190,0,0,190,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,95,0,0,0,95,0,0,0,0,0,47,0,0,95,0,0,0,0,0,0,0,0,95,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,47,0,0,0,190,0,0,47,190,0,0,190,0,0,47,0,0,0,47,47,0,0,0,47,0,0,47,47,190,0,0,47,0,0,190,0,0,47,0,0,95,0,0,95,0,0,95,0,0,47,47,47,47,0,0,0,0
    );

var
    i : byte;
    j : word;


begin

    j := 0;
    repeat
        if NeoGetQueueLen(0) = 0 then begin
            for i := 0 to 19 do begin
                // NeoQueueNote(channel:byte;freq,len,slide:word;stype:byte);
                NeoWaitForVblank;
                NeoQueueNote(0, freq[j], (leng[j] shr 3), 0, 0);
                if dele[j] <> 0 then pause(dele[j] shr 3);
                inc(j);
            end;
        end;
    until j > SCORE_SIZE

end.
