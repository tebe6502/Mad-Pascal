const

S_WAL       = ord('#'); // wall
S_GRA       = ord('x'); // grass
S_PLA       = ord('@'); // player
S_PLD       = ord('+'); // player on deck
S_DEC       = ord('.'); // deck
S_CRA       = ord('$'); // crate
S_CRD       = ord('*'); // crate on deck
S_FLO       = ord(' '); // floor

GFX_FLO     = 0; // floor
GFX_GRA     = 1; // grass
GFX_WAL     = 2; // wall
GFX_CRD     = 3; // crate on deck
GFX_CRA     = 4; // crate
GFX_DEC     = 5; // deck
PLA_RIGHT   = 6;
PLA_LEFT    = 7;
PLA_UP      = 8;
PLA_DOWN    = 9;
PLA_WAVE    = 10;

GROUND_TILE = $2e;
SPACE_TILE  = $20;

FLOOR_TILE  = $68;
FLOOR_COL1  = %00000000;  // LFS
//FLOOR_COL2  = COL_GROUND; // LBS

GRASS_TILE  = $68;
GRASS_COL1  = %00000000;  // LFS
//GRASS_COL2  = COL_GROUND; // LBS

WALL_TILE   = $40;
WALL_COL1   = %00101001;  // LFS
//WALL_COL2   = COL_GROUND; // LBS

CRA1_TILE   = $64;
CRA1_COL1   = %10101010;  // LFS
//CRA1_COL2   = COL_GROUND; // LBS

CRA2_TILE   = $64;
CRA2_COL1   = %00001100;  // LFS
//CRA2_COL2   = COL_GROUND; // LBS

DECK_TILE   = $66;
DECK_COL1   = %00110100;  // LFS
//DECK_COL2   = COL_GROUND; // LBS

PLA_RIGHT_T    = $42;
PLA_RIGHT_COL1 = COL_HERO1; // LFS
//PLA_RIGHT_COL2 = COL_HERO2; // LBS

PLA_LEFT_T     = $46;
PLA_LEFT_COL1  = COL_HERO1; // LFS
//PLA_LEFT_COL2  = COL_HERO2; // LBS

PLA_UP_T       = $60;
PLA_UP_COL1    = COL_HERO1; // LFS
//PLA_UP_COL2    = COL_HERO2; // LBS

PLA_DOWN_T     = $4a;
PLA_DOWN_COL1  = COL_HERO1; // LFS
//PLA_DOWN_COL2  = COL_HERO2; // LBS

PLA_WAVE_T     = $4e;
PLA_WAVE_COL1  = COL_HERO1; // LFS
//PLA_WAVE_COL2  = COL_HERO2; // LBS

tile_col1 : array[0..10] of byte = (
	FLOOR_COL1, GRASS_COL1, WALL_COL1, CRA1_COL1, CRA2_COL1, DECK_COL1,
	PLA_RIGHT_COL1, PLA_LEFT_COL1, PLA_UP_COL1, PLA_DOWN_COL1, PLA_WAVE_COL1
);

{
tile_col2 : array[0..10] of byte = (
	FLOOR_COL2, GRASS_COL2, WALL_COL2, CRA1_COL2, CRA1_COL2, DECK_COL2,
	PLA_LEFT_COL2, PLA_LEFT_COL2, PLA_UP_COL2, PLA_DOWN_COL2, PLA_WAVE_COL2
);
}


SET_SIZE = 37; // Thinking Rabbit 38Lv
//SET_SIZE = 99; // µSoukoban 100Lv

var

tile_char : array[0..10] of byte = (
	FLOOR_TILE, GRASS_TILE, WALL_TILE, CRA1_TILE, CRA2_TILE, DECK_TILE,
	PLA_RIGHT_T, PLA_LEFT_T, PLA_UP_T, PLA_DOWN_T, PLA_WAVE_T
);

board  : array[0..MAX_Y-1, 0..MAX_X-1] of byte absolute LCG + CHR_OFFSET;

//{
levels : array[0..SET_SIZE] of PChar = (
#19#11'xxxx#####xxxxxxxxxxxxxx#   #xxxxxxxxxxxxxx#$  #xxxxxxxxxxxx###  $##xxxxxxxxxxx#  $ $ #xxxxxxxxx### # ## #xxx#######   # ## #####  ..## $  $          ..###### ### #@##  ..#xxxx#     #########xxxx#######xxxxxxxx',
#14#10'############xx#..  #     ####..  # $  $  ##..  #$####  ##..    @ ##  ##..  # #  $ ######## ##$ $ #xx# $  $ $ $ #xx#    #     #xx############',
#17#10'xxxxxxxx########xxxxxxxxx#     @#xxxxxxxxx# $#$ ##xxxxxxxxx# $  $#xxxxxxxxxx##$ $ #xx######### $ # ####....  ## $  $  ###...    $  $   ##....  ##################xxxxxxxxx',
#12#11'######xx###x#..  #x##@###..  ###   ##..     $$ ##..  # # $ ##..### # $ ##### $ #$  #xxx#  $# $ #xxx# $  $  #xxx#  ##   #xxx#########',
#13#12'xxxxxxx#####xx#######   #### # @## $$ ##    $      ##  $  ###   #### #####$#### $  ### ..#x# $ $ $ ...#x#    ###...#x# $$ #x#...#x#  ###x#####x####xxxxxxxxx',
#15#12'x#######xxxxxxxx#  #  #####xxx##  #  #...###x#  $#  #...  #x# $ #$$ ...  #x#  $#  #... .#x#   # $##########$       $ $ ###  #  $$ #   #x######  ##$$@#xxxxxx#      ##xxxxxx########x',
#11#11'xxxxxx####x####### @#x#     $  #x#   $## $#x##$#...# #xx# $...  #xx# #. .# ##x#   # #$ #x#$  $    #x#  #######x####xxxxxx',
#19#11'xxxxxxxx#######xxxxxxxx#####  #  ####xxxxx#   #   $    #xx#### #$$ ## ##  #x##      # #  ## ####  ### $#$  $  $  ##...    # ##  #   ##...#    @ # ### ###...#  ###  $  $  #########x##   #   #xxxxxxxxxx#########',
#18#11'xxxxxxxxx####xxxxxx#########  ##xxxx##  $      $ ######   ## ##   ##...## #$$ $ $$#$##...## #   @   #   ...##  $# ###$$   ...## $  $$  $ ##....####$       #######xx#  #######xxxxxxxx####xxxxxxxxxxxx',
#14#12'x#########xxxxx#       #xxxxx# $ $$ $#xxxx### #  $ #xxxx#.#   $$ ##xxx#.###   $ #xxx#.#. $ ## #####...  $## $  ##...$   $    ##..###$### #@##..#x#     #######x#######xx',
#20#12'#####################                #### $#   $ ##  $    ###    $###    # $$ ###.###     $ $ ##  ###...#  #  #    #$  ##..##$$#### $  #   ##...#      $ ##  ####...$  ###  #    # ###..  $#  ##   ##@ ####.#              #####################',
#20#12'#####################   #    #   #   #@## $      $   $   # ### ###..## ###     ##   #....#$#  $### ## $ #....#  $  $ $ ##   #....# # # $ $ ##   ##..##   #$#   ###$##    ##  #  #$###   $  $     #  #  ##   #    #   #     #####################',
#20#12'#####################    @##      #   ###    ##    $    $ ###  ###....# # #  ####   #....# # # $   #### #...#  #       ###  ##.#     $   $ ###  $ $ ###  # # ##### $       # # $   ##### $  $# # # # $ #####         # #  ######################',
#20#12'#####################  #  ##    #   @#####    $    # $###  ###$# $ ##$# $ $    ##   $#    $      #### ##   $ ###  #....## # $# # # # #....###    $ $ #  #....#####$ ###  $ #....#####  # $        #######      # #    ##########################',
#20#12'#####################@     ###   #  #  ## # #  #  $  $     ######     # $ $#$# ##.#..#    ##$ $    ##.....    $   #   ###.....    ###$##$####.#..#    $    #   ######     #  #$  $ ######  #  $    $ $ ######  #  #  #  #  #####################',
#20#12'######################...   ## #    #  ##....         $ ## ##....# # #$###$    ##...#    #       # ###.#  #$ #     $## ##  #  # $ $ ###  $ ##     $  $ #  # ## ### # ## #$$# $#  # ##  #   $ $ #      ###    #     #  #   @#####################',
#20#12'#####################   #  #@# ##  ###### # #  $    $  ###### #    ###### $  ####   #  #....#  $$  ###$##$##....#      ##      #....##$##$###  $$  #....#      ## $  $  #  #  ###  ######  $   $    $  ###### #    #  #   ######################',
#20#12'##################### #     #          ##       $  ## ### #######  ##   $  $   ###..##  # # $ # #  ##....  $     ##$# ###....  $#####   #$####..# #  #   #  $  ####.# #  $   $  # @###  $  $ #   #  ######       ###############################',
#20#12'#####################     ###..###     ## $$  ###..###  $@ ##  # ##......#  $  ##     #......#  $  #####  ###..######$ ##   $$$ #..#    #  ## $#   $  $  $$ #$ ##  #  ## $  ##  #  ## $    $ ## $    $ ##  #  ##    ##  #  #####################',
#20#12'#####################    #  # #  #  #  ## @# # ## $   $   ###### #    #  # $   ##    # ## #$ ## ## ##      $   $   $   ##..###$$## $##$ ## ##..#.#  # $   $ #  ##....# $$   ##$ #####....#  #####      ##...###        ##  #####################',
#20#12'#####################....#       #  #  ##....# # $  $      ##.... ##  $# # $#$ ##...#   $   $#  $  ##..####  # $   $$  ##      #### #### ####        #   #     ## ##   #   $ # $ $ ## ##    $ ## $  $  ##     @#     #   # #####################',
#20#12'#####################....###           ##....##### #  #$# ###....###   #$  $   ##....###    $  #$$####  #### $#  #$ $  ###  ####  $  $  #  ##@  ####$###$## $  ###        #  #  $  ###   ###  #  $  ############  #  #     #####################',
#20#12'#####################     #     @#...####     #      ##...### # # ##$## ## ....##   $ #   $$$  ....####$### $$  ### ##.##     $  #    # #####  $  #  ###  # #  ### #$##    $  $$   ##   $ ##   #  # #  ##     #    #  #    #####################',
#20#12'#####################     #  #...#@    ## #       ....#    ##  $  #   #....#   ## ##$#### ##....#  ## $   $  #  #...#  ## $$ #   #   # $$  ####  $$$#   $$  $  ## $  #  #    # $#  ##   $#  #       $  ##  #    #    #  #  #####################',
#20#12'#########################@###.##...##  ######$  ..#...#    #####    ......#  $ ####  $ #.....## # ####  $$# #####  $ $ ### $# $    ##  $$  ###  #  #    # $  $ ###   $$ ### #$##   ### $#      $ $  $ #####    #    #    #######################',
#20#12'#####################@     #   #       ### ### ##  #### # ###    # #  $$       ##  # # # $ # $ ## ###     $ #  #$$ #   ##  ###  #      ## ###..#.# $ #  $ #    ##..#.#  $ # ## $$  ##....##   $$  $  # ##.....##        #  #####################',
#20#12'#####################  #      #   #   ### $# $ $ ##...$  $ ##  $  # ##....# $  ## ## $ ##....#   $ ## $    #....## $   ## $##  #...#       ##   $$$##$##  ### ### # #  #   #  #    ## $ #  $  ##       ##    #    #@       #####################',
#20#12'#####################  #  # #    #  #  ##   $      $ $     ### #  #$###$##  ## ##   $     $  #  $  ## ###$##$#   # $   ## #   $ $  ###### $## $  $$ $  #@#.#...## #     #  # #.#...## ########## #.....##            #.....#####################',
#20#12'#####################  #     #  ##    ### $#   $ #     ##  ## $  $  #..#     $ ## $ $  #....#   # ### $#  #......### $ ##   #  #....#  #$  ## $  ####..#   #   ### $   ## # # $  $##### $    $#@$ $#   #####   #       #   #####################',
#20#12'#####################      ....#    #####      ....        ## # ##########     ## #$   #      ###..##  $   #$$###   #..## $ ### $   $   #..## $ #   $ $ #  ##..##  #  $$ # $ ##   ###@## $#  $  $     ####       ##   #  #######################',
#20#12'#####################        #   #@ #  ## $$  #$$# # #  ## ##  # $ $ #$$ #     ### #  #  # # #  #  ##   ##       #     ##   # $ #   #   #  ## $ #$ #   #  $ #..###$ #  ####    #...##  $          #....##   #  #     #.....#####################',
#20#12'#####################     #   #####    ### $  #   ####  $  ##### $$   #..#  #  ##  $  $  ##..#### ### $   ###....   $$ ##  #$#   ....# # $ ## #  # $ ..###$#   ## #   $ #..#   ##  ##   $#  ####   # $### #  #    @#      ######################',
#20#12'#####################   #   #    #   #@##   $  $     # $ # ###$# $### #    $$# ##  #  #.###  #$ $  ##  #$#....#  # ### ## $  #.....##    # ###$  #.#....#$$ $  ##  ######..## #  # ##  $         $ ### ##   #   #        # #####################',
#20#12'##################### # # #   #@##   # ##             $    ##  ##$# ##### $ # ####    ##.....#  #  ###$##$#.....###$#$ ##   # ##.....#  # ###  $    ##..##  #  ## $ #   $   $  $$$ ### $  $# #  #  $   ##   ##   #  #      #####################',
#19#12'xxxxxxx###########xxxxxxxx#         #xxxxxxxx#    $ $  #x######x# $ ##### #x#    ##### $  ##$#x#       $ $      #x#          ## ## #x#    ##@##### ## #x#    ####xxx# ## ###....#xxxxxx# $   ##....#xxxxxx#     #######xxxxxx#######',
#19#12'#############xxxxxx#           #xxxxxx# ### $$    #xxxxxx#   # $  $  #xxxxxx#  $####$######xxxx# $ ##        ######  $$ $        ...#### ## $$#     ...#xx# ##   #     ...#xx#      #     ...#xx###@#############xxxx###xxxxxxxxxxxx',
#16#12'#######xxxxxxxxx#     ###########     #    #  ### $   #   $ $  ##  $  #  $ ##  ## $$  ##$ $    ### #  ## ######### #  ##    ...##  #$       ...##   $$      ...##     ##@#  ...#################',
#17#10'################x#       #@ #   #x# # # # # $  $$#x# #...# #$$$   #x#  ...# # $  $$### ##.## # ##    ## #...     $    ## ## ###  ########    #x####xxxxxx######xxxxxxxxxxx'
);
//}

{
levels : array[0..SET_SIZE] of PChar = (
//µSoukoban https://www.onlinespiele-sammlung.de/sokoban/sokobangames/robsy/
#8#8'########## .######  ######*@  ####  $ ####  ####################',
#8#8'##########    #### #@ #### $* #### .* ####    ##################',
#8#8'#################      ## .**$@##      ######  #################',
#8#8'##########     ### .$. ### $@$ ##  .$. ##      #################',
#8#8'#########     ### .$. ### $.$ ### .$. ### $.$ ###  @  ##########',
#8#8'##########.  #####@$$ #####   ######  #######.##################',
#8#8'#################     ### # # ###. $*@###   ####################',
#8#8'########## @ #####...#####$$$#####    ####    ##################',
#8#8'#########   .. ##  @$$ ###### ######  ######  ######  ##########',
#8#8'#################  ###### . . ### $$#@####    ##################',
#8#8'#########  *  ###     #### # #####$@.#####   ###################',
#8#8'###########   #####$$@###   #####     ### . . ##################',
#8#8'##########  ###### $$ ####... ###  @$ ###   ####################',
#8#8'########### @ #####   ######$ #### ...#### $$ ######  ##########',
#8#8'#########   .#### ## ####  $$@### #   ###.  ####################',
#8#8'#########   ##### @ ##### $$######. . ####    ##################',
#8#8'##########  ###### $$ ####... #### @$ ####   ###################',
#8#8'###########  #####@$.#### $$  ### . . #####   ##################',
#8#8'##########  #####     ###.**$@###   ######  ####################',
#8#8'#########. #  ###  $  ###. $#@###  $  ###. #  ##################',
#8#8'##################   #####   #### $$$ ### .+. ##################',
#8#8'#################     ###@$$$ ###  #...###    ##################',
#8#8'############  ######@ ######$.###   $.### # $.###    ###########',
#8#8'##########################@$.###################################',
#8#8'##########... ####  $ #### #$#####  $ ####  @ ##################',
#8#8'##########    ###  ## ### # $ ###  * .#### #@#####   ###########',
#8#8'#########  @ ####  # #### .#  ### .$$$ ## .#   #####   #########',
#8#8'#########  ######    ####  $*@ #### .# ####    #################',
#8#8'############ @####  $ ####  *.####  *.####  $ ######  ##########',
#8#8'##########. .#### * * ###  #  ### $ $ #### @ ###################',
#8#8'#################   #####  $  ####* . ####   @##################',
#8#8'#########  ######.*$  ### .$# #### @  ####   ###################',
#8#8'#########   ##### #  ####@$*.#####  . #### $# #####   ##########',
#8#8'#########   ##### .   ####*#$  ## .# $ ## @## ###     ##########',
#8#8'#########@     ## .$$. ## $..$ ## $..$ ## .$$. ##      #########',
#8#8'######### @#  ###.$   ###. # $###.$#   ##. # $ ##  #   #########',
#8#8'########### . ##### $  ## . $#@## #$ . ##  $ ##### . ###########',
#8#8'#########      ## $*** ## *  * ## *  * ## ***. ##     @#########',
#8#8'##########  ######  ######  ######.$$@####  . ####  ############',
#8#8'###########   #####.# ####  @ ####  $ #### #*#####   ###########',
#8#8'############  ###  #  ### . . ### @$$ ### # #####   ############',
#8#8'#########    #### $$ ###### @  ####  . ##### .##################',
#8#8'###########   ###  $# ###  .$ #### ##.####   @##################',
#8#8'#########   @  ##   *  ####.$###### * #####   ##################',
#8#8'##########    #### #$@#### .*.#### #$ ####    ##################',
#8#8'#################   #####   #####$$$@ ###...  ##################',
#8#8'##################.#  ####@$$ ####..$ #####   ##################',
#8#8'#########   #####     ###     #####.##### $*$ ###  +  ##########',
#8#8'##########  ##### .$  ###@.$  ### .$ #####  ####################',
#8#8'#########  ######  #  ###.$**@####    ####   ###################',
#8#8'#############  #### $$ #### #  ### .#$@##      ## ..############',
#8#8'###########   #####$#@##### $ ####   #####.*. ####    ##########',
#8#8'##########   #####$#@ #### $  ####  ##### $.  ###. .  ##########',
#8#8'#########     ### $$$.#### #@.#### # .####  # #####   ##########',
#8#8'##########  ######$   #### .# ####*.  ### $ ##### @ ############',
#8#8'##########   #### .$. ### $#$ ### .$. ###    ##### @############',
#8#8'#########      ## ###$ ## #  $ ## #.*$@## #.#  ##  .#  #########',
#8#8'#########    #### ##$#### # $  ## @.*. ###     ###  ############',
#8#8'#########   ##### # .  ## #$.  ## @$*# #####   #################',
#8#8'#########  $.  ##  $.  ####  ####  $.  ##@ $.  #################',
#8#8'##########    ####. ..#####$ @ ## $  $ ##   ####################',
#8#8'############   #### .# ##  $*$@##   .# #### #  ####   ##########',
#8#8'############   ###     ## **$ ###  * .##### #@#####   ##########',
#8#8'######### . . ###.$$$.### $@$ ###.$$$.### . . ##################',
#8#8'#########  #   ##  #.. ## $$$$$##  #...##  #   ##  @   #########',
#8#8'#########   #  ## $.$. ###.  $ ## $  .### .$.$ ##  #  @#########',
#8#8'##########. . ####  *.#####$ @ ## $  $ ##   ####################',
#8#8'##########  ######    ###  * . ## *$*$ ### .$. ###@  ###########',
#8#8'############  ####     ###*  # ## *$*. ##  @  ##################',
#8#8'#########  ######  ######  ######.$$ $@##  . . ##  #############',
#8#8'###################  #### $.@####  *  ###  *  ##################',
#8#8'#########     ### .$  ####.$#####  @  ### .$# ###     ##########',
#8#8'#########  #  ### *#$.### * $. ## @    ##   ####################',
#8#8'#########  ######...  ###.##  ###  $ $ ####$ $ ####@   #########',
#8#8'##########  ###### *  #### *#@#### *  ###  .$####    ###########',
#8#8'#########    @ ## $  $ ### ## ### $# $###  .. #### .. ##########',
#8#8'######### @######     ### .#.  ###$$$$ ## . .####    ###########',
#8#8'#########   ##### .$. ### $*  ####  *$ ### .$. #####  @#########',
#8#8'############  #####   ###  .*$ ##  *.$@###   #####  ############',
#8#8'############  #####   ###  .*$ ##  *.$@###   ######  # #########',
#8#8'#########      ## #$.@ ##  $.#### #$.####   ####################',
#8#8'#########   #####  $.  ### $.  ####$.######@ ###################',
#8#8'###########  ######  ######$.####  $.#### #$. ###   @ ##########',
#8#8'#########   ##### #$.  ##  .$#@####$.  ####  ######  ###########',
#8#8'###########    ##  $.# ##@#.$  ## #$.####    ###################',
#8#8'############   ##  $.# ##@#.$  ## #$.#### #  ####    ###########',
#8#8'########### . ##### * ##### * ####  * #### @$ ####  ############',
#8#8'#########  @##### #$$  ##  $.# ####..  #####   #################',
#8#8'############ @###  $$ ### #$.  ##  ..# #####   #################',
#8#8'############  #####   ###  $  ### .*.##### $ ######@ ###########',
#8#8'############  ######$ #### .*.#### #$ ####  @ ####   ###########',
#8#8'#########   #####  $ #####$*. #### .@  ###  #  ######  #########',
#8#8'#########   ##### #@$  ##  $*. #####. ####    ####   ###########',
#8#8'###########   #####   ###  * #### .@$####  * #####  ############',
#8#8'##########  ###### * #### .@$ ###  *  ###  #  ##################',
#8#8'###########   #### *  ### .@$####  *  #####   ##################',
#8#8'###########  ######  ##### $*  ##  *. @##   #####  #############',
#8#8'###########@ ######  ######$* ###  *.  ##      ######  #########',
#8#8'############ ####@ ### ## $$ #### $ .  ### ..  #################',
#8#8'#########    ####    ##### $$##### $@.##### ..##################'
);
}